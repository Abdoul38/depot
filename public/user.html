<!-- Page d'inscription -->
<div id="inscription" class="page">
    <h2 style="text-align: center; margin-bottom: 30px;">Cr√©er un compte</h2>
    
    <form id="registerForm" onsubmit="register(event)">
        <div class="form-row">
            <div class="form-group">
                <label for="regNom">Nom complet *</label>
                <input type="text" id="regNom" required>
            </div>
            <div class="form-group">
                <label for="regEmail">Email *</label>
                <input type="email" id="regEmail" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="regTelephone">Num√©ro de t√©l√©phone *</label>
                <input type="tel" id="regTelephone" required>
            </div>
            <div class="form-group">
                <label for="regDateNaissance">Date de naissance</label>
                <input type="date" id="regDateNaissance">
            </div>
        </div>
        
        <div class="form-group">
            <label for="regMotDePasse">Mot de passe *</label>
            <input type="password" id="regMotDePasse" required>
        </div>
        
        <div class="form-group">
            <label for="regConfirmMotDePasse">Confirmer le mot de passe *</label>
            <input type="password" id="regConfirmMotDePasse" required>
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">Cr√©er mon compte</button>
    </form>
</div>

<!-- Page de connexion -->
<div id="connexion" class="page">
    <h2 style="text-align: center; margin-bottom: 30px;">Se connecter</h2>
    
    <form id="loginForm" onsubmit="login(event)">
        <div class="form-group">
            <label for="loginIdentifiant">Email ou T√©l√©phone *</label>
            <input type="text" id="loginIdentifiant" required>
        </div>
        
        <div class="form-group">
            <label for="loginMotDePasse">Mot de passe *</label>
            <input type="password" id="loginMotDePasse" required>
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">Se connecter</button>
        
        <p style="text-align: center; margin-top: 20px;">
            <a href="#" onclick="showPage('inscription')" style="color: #667eea; text-decoration: none;">Pas encore de compte ? S'inscrire</a>
        </p>
    </form>
</div>

<!-- Tableau de bord utilisateur -->
<div id="dashboard" class="page">
    <div class="welcome-page">
        <div class="welcome-header" style="background:green;">
            <h1 id="userWelcomeTitle">Bienvenue √† l'Universit√© Djibo Hamani</h1>
            <p>Plateforme moderne de gestion des inscriptions et dossiers √©tudiants</p>
        </div>

        <div class="features-grid">
            <div class="feature-card" onclick="startApplicationProcess()" style="cursor: pointer; transition: transform 0.3s;">
                <div class="feature-icon">üì§</div>
                <h3>Nouveau Dossier</h3>
                <p>D√©posez votre dossier en quelques √©tapes simples avec un suivi en temps r√©el</p>
            </div>

            <div class="feature-card" onclick="navigateToUserPage('mesDossiers')" style="cursor: pointer; transition: transform 0.3s;">
                <div class="feature-icon">üìã</div>
                <h3>Mes Dossiers</h3>
                <p>Consultez l'√©tat de vos dossiers d√©pos√©s et t√©l√©chargez vos documents</p>
            </div>

            <div class="feature-card" onclick="navigateToUserPage('profil')" style="cursor: pointer; transition: transform 0.3s;">
                <div class="feature-icon">üë§</div>
                <h3>Mon Profil</h3>
                <p>Modifiez vos informations personnelles et param√®tres de compte</p>
            </div>
        </div>

        <div class="action-buttons" style="margin-top: 40px;">
            <button class="btn btn-primary" onclick="startApplicationProcess()">üì§ Nouveau D√©p√¥t</button>
            <button class="btn btn-secondary" onclick="navigateToUserPage('mesDossiers')">üìã Voir Mes Dossiers</button>
        </div>
    </div>
</div>

<!-- Processus de d√©p√¥t - √âtape 1 -->
<div id="etape1" class="page">
    <div class="step-indicator">
        <div class="step active">
            <div class="step-number">1</div>
            <span>Informations personnelles</span>
        </div>
        <div class="step">
            <div class="step-number">2</div>
            <span>Choix de fili√®re</span>
        </div>
        <div class="step">
            <div class="step-number">3</div>
            <span>Documents</span>
        </div>
        <div class="step">
            <div class="step-number">4</div>
            <span>R√©sum√©</span>
        </div>
    </div>

    <div class="form-container">
        <h2>√âtape 1 : Informations personnelles</h2>
        
        <form id="etape1Form" onsubmit="nextStep(event, 2)">
            <div class="form-section">
                <h3 class="section-title">Identit√©</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="nom">Nom <span class="required">*</span></label>
                        <input type="text" id="nom" required placeholder="Votre nom">
                    </div>
                    <div class="form-group">
                        <label for="prenom">Pr√©nom <span class="required">*</span></label>
                        <input type="text" id="prenom" required placeholder="Votre pr√©nom">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="dateNaissance">Date de naissance <span class="required">*</span></label>
                        <input type="date" id="dateNaissance" required>
                    </div>
                    <div class="form-group">
                        <label for="lieuNaissance">Lieu de naissance <span class="required">*</span></label>
                        <input type="text" id="lieuNaissance" required placeholder="Ville, r√©gion">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nationalite">Nationalit√© <span class="required">*</span></label>
                        <select id="nationalite" required>
                            <option value="">S√©lectionner...</option>
                            <option value="africaine-du-sud">Africaine du Sud (Sud-africaine)</option>
            <option value="algerienne">Alg√©rienne</option>
            <option value="angolaise">Angolaise</option>
            <option value="beninoise">B√©ninoise</option>
            <option value="botswanaise">Botswanaise</option>
            <option value="burkinabe">Burkinab√©</option>
            <option value="burundaise">Burundaise</option>
            <option value="camerounaise">Camerounaise</option>
            <option value="cap-verdienne">Cap-verdienne</option>
            <option value="centrafricaine">Centrafricaine</option>
            <option value="comorienne">Comorienne</option>
            <option value="congolaise">Congolaise (R√©publique du Congo)</option>
            <option value="congolaise-rdc">Congolaise (RDC)</option>
            <option value="ivoirienne">Ivoirienne (C√¥te d'Ivoire)</option>
            <option value="djiboutienne">Djiboutienne</option>
            <option value="egyptienne">√âgyptienne</option>
            <option value="equato-guineenne">√âquato-guin√©enne</option>
            <option value="erythreenne">√ârythr√©enne</option>
            <option value="eswatinienne">Eswatinienne (Swaziland)</option>
            <option value="ethiopienne">√âthiopienne</option>
            <option value="gabonaise">Gabonaise</option>
            <option value="gambienne">Gambienne</option>
            <option value="ghaneenne">Ghan√©enne</option>
            <option value="guineenne">Guin√©enne</option>
            <option value="bissau-guineenne">Bissau-guin√©enne (Guin√©e-Bissau)</option>
            <option value="kenyane">Kenyane</option>
            <option value="lesothane">Lesothane</option>
            <option value="liberienne">Lib√©rienne</option>
            <option value="libyenne">Libyenne</option>
            <option value="malgache">Malgache (Madagascar)</option>
            <option value="malawienne">Malawienne</option>
            <option value="malienne">Malienne</option>
            <option value="mauritanienne">Mauritanienne</option>
            <option value="mauricienne">Mauricienne (Maurice)</option>
            <option value="marocaine">Marocaine</option>
            <option value="mozambicaine">Mozambicaine</option>
            <option value="namibienne">Namibienne</option>
            <option value="nigerienne">Nig√©rienne (Niger)</option>
            <option value="nigeriane">Nig√©riane (Nigeria)</option>
            <option value="ougandaise">Ougandaise</option>
            <option value="rwandaise">Rwandaise</option>
            <option value="sao-tomeenne">Sao-tom√©enne</option>
            <option value="senegalaise">S√©n√©galaise</option>
            <option value="seychelloise">Seychelloise</option>
            <option value="sierra-leonaise">Sierra-l√©onaise</option>
            <option value="somalienne">Somalienne</option>
            <option value="soudanaise">Soudanaise</option>
            <option value="sud-soudanaise">Sud-soudanaise</option>
            <option value="tanzanienne">Tanzanienne</option>
            <option value="tchadienne">Tchadienne</option>
            <option value="togolaise">Togolaise</option>
            <option value="tunisienne">Tunisienne</option>
            <option value="zambienne">Zambienne</option>
            <option value="zimbabweenne">Zimbabw√©enne</option>
            
            <!-- Autres continents (s√©lection) -->
            <option value="francaise">Fran√ßaise</option>
            <option value="belge">Belge</option>
            <option value="suisse">Suisse</option>
            <option value="canadienne">Canadienne</option>
            <option value="autre">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="genre">Genre <span class="required">*</span></label>
                        <select id="genre" required>
                            <option value="">S√©lectionner...</option>
                            <option value="masculin">Masculin</option>
                            <option value="feminin">F√©minin</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Adresse</h3>
                <div class="form-row full">
                    <div class="form-group">
                        <label for="adresse">Adresse compl√®te <span class="required">*</span></label>
                        <textarea id="adresse" rows="3" required placeholder="Rue, quartier, ville..."></textarea>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Baccalaur√©at</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="typeBac">Type de Bac <span class="required">*</span> <small>(Filtre les fili√®res disponibles)</small></label>
                        <select id="typeBac" required>
                            <option value="">Chargement des types de bac...</option>
                        </select>
                        <div class="form-hint">
                            <small>S√©lectionnez votre type de bac pour voir les fili√®res compatibles √† l'√©tape suivante</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="lieuObtention">Lieu d'obtention <span class="required">*</span></label>
                        <select id="lieuObtention" required>
                            <option value="">S√©lectionner...</option>
                            <option value="Dosso">Dosso</option>
                            <option value="Niamey">Niamey</option>
                            <option value="Tahoua">Tahoua</option>
                            <option value="Agadez">Agadez</option>
                            <option value="Maradi">Maradi</option>
                            <option value="Tillab√©ri">Tillab√©ri</option>
                            <option value="Zinder">Zinder</option>
                            <option value="Diffa">Diffa</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="anneeObtention">Ann√©e d'Obtention <span class="required">*</span></label>
                        <select id="anneeObtention" required>
                            <option value="">S√©lectionner...</option>
                             <option value="2000-2001">2000-2001</option>
    <option value="2001-2002">2001-2002</option>
    <option value="2002-2003">2002-2003</option>
    <option value="2003-2004">2003-2004</option>
    <option value="2004-2005">2004-2005</option>
    <option value="2005-2006">2005-2006</option>
    <option value="2006-2007">2006-2007</option>
    <option value="2007-2008">2007-2008</option>
    <option value="2008-2009">2008-2009</option>
    <option value="2009-2010">2009-2010</option>
    <option value="2010-2011">2010-2011</option>
    <option value="2011-2012">2011-2012</option>
    <option value="2012-2013">2012-2013</option>
    <option value="2013-2014">2013-2014</option>
    <option value="2014-2015">2014-2015</option>
    <option value="2015-2016">2015-2016</option>
    <option value="2016-2017">2016-2017</option>
    <option value="2017-2018">2017-2018</option>
    <option value="2018-2019">2018-2019</option>
    <option value="2019-2020">2019-2020</option>
    <option value="2020-2021">2020-2021</option>
    <option value="2021-2022">2021-2022</option>
    <option value="2022-2023">2022-2023</option>
    <option value="2023-2024">2023-2024</option>
    <option value="2024-2025">2024-2025</option>
    <option value="2025-2026">2025-2026</option>
    <option value="2026-2027">2026-2027</option>
    <option value="2027-2028">2027-2028</option>
    <option value="2028-2029">2028-2029</option>
    <option value="2029-2030">2029-2030</option>
    <option value="2030-2031">2030-2031</option>
    <option value="2031-2032">2031-2032</option>
    <option value="2032-2033">2032-2033</option>
    <option value="2033-2034">2033-2034</option>
    <option value="2034-2035">2034-2035</option>
    <option value="2035-2036">2035-2036</option>
    <option value="2036-2037">2036-2037</option>
    <option value="2037-2038">2037-2038</option>
    <option value="2038-2039">2038-2039</option>
    <option value="2039-2040">2039-2040</option>
    <option value="2040-2041">2040-2041</option>
    <option value="2041-2042">2041-2042</option>
    <option value="2042-2043">2042-2043</option>
    <option value="2043-2044">2043-2044</option>
    <option value="2044-2045">2044-2045</option>
    <option value="2045-2046">2045-2046</option>
    <option value="2046-2047">2046-2047</option>
    <option value="2047-2048">2047-2048</option>
    <option value="2048-2049">2048-2049</option>
    <option value="2049-2050">2049-2050</option>
    <option value="2050-2051">2050-2051</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="mention">Mention <span class="required">*</span></label>
                        <select id="mention" required>
                            <option value="">S√©lectionner...</option>
                            <option value="Passable">Passable</option>
                            <option value="Assez Bien">Assez-Bien</option>
                            <option value="Bien">Bien</option>
                            <option value="Tr√®s Bien">Tr√®s Bien</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">Contact</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="telephone">T√©l√©phone <span class="required">*</span></label>
                        <input type="tel" id="telephone" required placeholder="+227 XX XX XX XX">
                    </div>
                    <div class="form-group">
                        <label for="email">Email <span class="required">*</span></label>
                        <input type="email" id="email" required placeholder="exemple@email.com">
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>Informations importantes</strong>
                <p>Assurez-vous que toutes les informations sont exactes et compl√®tes. Elles seront utilis√©es pour votre dossier d√©finitif.</p>
            </div>

            <div class="button-group">
                <button type="submit" class="btn btn-primary" style="width: 100%;">√âtape suivante</button>
            </div>
        </form>
    </div>
</div>

<!-- Processus de d√©p√¥t - √âtape 2 -->
<div class="page" id="etape2">
    <div class="step-indicator">
        <div class="step completed">
            <div class="step-number">1</div>
            <span>Informations personnelles</span>
        </div>
        <div class="step active">
            <div class="step-number">2</div>
            <span>Choix de fili√®re</span>
        </div>
        <div class="step">
            <div class="step-number">3</div>
            <span>Documents</span>
        </div>
        <div class="step">
            <div class="step-number">4</div>
            <span>R√©sum√©</span>
        </div>
    </div>

    <div class="form-container">
        <h2>√âtape 2 : Choix de fili√®re</h2>
        
        <div id="rappelTypeBac" style="background: linear-gradient(135deg, #e8f4ff, #f0f8ff); padding: 15px; border-radius: 8px; margin-bottom: 30px; border-left: 4px solid #667eea; display: none;">
            <h4 style="margin: 0 0 10px 0; color: #667eea;">Type de bac s√©lectionn√©</h4>
            <p id="typeBacSelectionne" style="margin: 0; font-weight: 600;">-</p>
            <small style="color: #666;">Les fili√®res ci-dessous sont compatibles avec votre type de bac</small>
        </div>
        
        <form id="etape2Form" onsubmit="nextStep(event, 3)">
            <div class="form-section">
                <h3 class="section-title">Vos choix de formation</h3>
                
                <div class="form-group">
                    <label for="premierChoix">Premier choix <span class="required">*</span> <span style="color: #28a745; font-weight: bold; font-size: 0.85em;">(Priorit√© 1)</span></label>
                    <select id="premierChoix" required>
                        <option value="">Chargement des fili√®res compatibles...</option>
                    </select>
                    <div class="form-hint">
                        <small>Votre choix principal - privil√©gi√© lors de l'affectation</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="deuxiemeChoix">Deuxi√®me choix <span class="required">*</span> <span style="color: #ffc107; font-weight: bold; font-size: 0.85em;">(Priorit√© 2)</span></label>
                    <select id="deuxiemeChoix" required>
                        <option value="">S√©lectionner d'abord le premier choix</option>
                    </select>
                    <div class="form-hint">
                        <small>Choix de secours en cas de non-acceptation du premier</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="troisiemeChoix">Troisi√®me choix <span class="required">*</span> <span style="color: #dc3545; font-weight: bold; font-size: 0.85em;">(Priorit√© 3)</span></label>
                    <select id="troisiemeChoix" required>
                        <option value="">S√©lectionner d'abord les deux premiers choix</option>
                    </select>
                    <div class="form-hint">
                        <small>Dernier choix de s√©curit√©</small>
                    </div>
                </div>
            </div>

            <div class="info-box" style="background: linear-gradient(135deg, #fff3cd, #fffacd); border-left-color: #ffc107;">
                <strong style="color: #856404;">Conseils pour vos choix</strong>
                <ul style="margin: 10px 0 0 20px; color: #856404; font-size: 0.95em;">
                    <li>Classez vos choix par ordre de pr√©f√©rence r√©elle</li>
                    <li>Assurez-vous que les trois fili√®res sont diff√©rentes</li>
                </ul>
            </div>

            <div class="button-group">
                <button type="button" class="btn btn-secondary" onclick="showPage('etape1')">Pr√©c√©dent</button>
                <button type="submit" class="btn btn-primary" style="flex: 1;">√âtape suivante</button>
            </div>
        </form>
    </div>
</div>

<!-- Processus de d√©p√¥t - √âtape 3 -->
<!-- Ajoutez Font Awesome dans le <head> si ce n'est pas d√©j√† fait -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<!-- Processus de d√©p√¥t - √âtape 3 -->
<div id="etape3" class="page">
    <div class="step-indicator">
        <div class="step completed">
            <div class="step-number">1</div>
            <span>Informations personnelles</span>
        </div>
        <div class="step completed">
            <div class="step-number">2</div>
            <span>Choix de fili√®re</span>
        </div>
        <div class="step active">
            <div class="step-number">3</div>
            <span>Documents</span>
        </div>
        <div class="step">
            <div class="step-number">4</div>
            <span>R√©sum√©</span>
        </div>
    </div>

    <div class="form-container">
        <h2>√âtape 3 : Documents requis</h2>
        
        <form id="etape3Form" onsubmit="nextStep(event, 4)">
            <!-- CONSIGNES -->
            <div class="consignes-box">
                <h5>üìã Consignes</h5>
                <ul>
                    <li>La taille des fichiers ne peut pas d√©passer <strong>3 Mo</strong>.</li>
                    <li>Les extensions autoris√©es sont : <strong>pdf, jpg, png</strong></li>
                </ul>
            </div>

            <!-- DOCUMENTS OBLIGATOIRES -->
            <div class="form-section">
                <h3 class="section-title-doc obligatoire">üîé Justificatifs obligatoires</h3>
                
                <!-- Photo d'identit√© -->
                <div class="document-card">
                    <div class="doc-header">
                        <span class="doc-icon">üì∑</span>
                        <div class="doc-info">
                            <strong class="doc-title">Photo d'identit√©</strong>
                            <span class="doc-badge required">Obligatoire</span>
                        </div>
                    </div>
                    <div class="doc-upload-zone" id="zone-photoIdentite" onclick="document.getElementById('photoIdentite').click()">
                        <div class="upload-button" id="btn-photoIdentite">
                            <span style="font-size: 24px; color: white;">+</span>
                        </div>
                        <div class="upload-success-icon" id="success-photoIdentite" style="display: none;">
                            <span style="font-size: 32px; color: white;">‚úì</span>
                        </div>
                        <p class="upload-text" id="text-photoIdentite">Cliquez pour t√©l√©charger</p>
                        <p class="upload-hint">JPG, PNG - Max 3MB</p>
                        <input type="file" id="photoIdentite" name="photoIdentite" 
                               style="display: none;" 
                               accept="image/*" 
                               required
                               onchange="handleFileUpload(this, 'photoIdentite')"/>
                    </div>
                    <div class="doc-preview" id="preview-photoIdentite"></div>
                </div>

                <!-- Pi√®ce d'identit√© -->
                <div class="document-card">
                    <div class="doc-header">
                        <span class="doc-icon">üÜî</span>
                        <div class="doc-info">
                            <strong class="doc-title">Extrait de naissance</strong>
                            <span class="doc-badge required">Obligatoire</span>
                        </div>
                    </div>
                    <div class="doc-upload-zone" id="zone-pieceIdentite" onclick="document.getElementById('pieceIdentite').click()">
                        <div class="upload-button" id="btn-pieceIdentite">
                            <span style="font-size: 24px; color: white;">+</span>
                        </div>
                        <div class="upload-success-icon" id="success-pieceIdentite" style="display: none;">
                            <span style="font-size: 32px; color: white;">‚úì</span>
                        </div>
                        <p class="upload-text" id="text-pieceIdentite">Cliquez pour t√©l√©charger</p>
                        <p class="upload-hint">PDF, JPG, PNG - Max 3MB</p>
                        <input type="file" id="pieceIdentite" name="pieceIdentite" 
                               style="display: none;" 
                               accept="image/*,application/pdf" 
                               required
                               onchange="handleFileUpload(this, 'pieceIdentite')"/>
                    </div>
                    <div class="doc-preview" id="preview-pieceIdentite"></div>
                </div>

                <!-- Dipl√¥me de baccalaur√©at -->
                <div class="document-card">
                    <div class="doc-header">
                        <span class="doc-icon">üéì</span>
                        <div class="doc-info">
                            <strong class="doc-title">Dipl√¥me de baccalaur√©at</strong>
                            <span class="doc-badge required">Obligatoire</span>
                        </div>
                    </div>
                    <div class="doc-upload-zone" id="zone-diplomeBac" onclick="document.getElementById('diplomeBac').click()">
                        <div class="upload-button" id="btn-diplomeBac">
                            <span style="font-size: 24px; color: white;">+</span>
                        </div>
                        <div class="upload-success-icon" id="success-diplomeBac" style="display: none;">
                            <span style="font-size: 32px; color: white;">‚úì</span>
                        </div>
                        <p class="upload-text" id="text-diplomeBac">Cliquez pour t√©l√©charger</p>
                        <p class="upload-hint">PDF, JPG, PNG - Max 3MB</p>
                        <input type="file" id="diplomeBac" name="diplomeBac" 
                               style="display: none;" 
                               accept="image/*,application/pdf" 
                               required
                               onchange="handleFileUpload(this, 'diplomeBac')"/>
                    </div>
                    <div class="doc-preview" id="preview-diplomeBac"></div>
                </div>

                <!-- Relev√© de notes -->
                <div class="document-card">
                    <div class="doc-header">
                        <span class="doc-icon">üìä</span>
                        <div class="doc-info">
                            <strong class="doc-title">Relev√© de notes du baccalaur√©at</strong>
                            <span class="doc-badge required">Obligatoire</span>
                        </div>
                    </div>
                    <div class="doc-upload-zone" id="zone-releve" onclick="document.getElementById('releve').click()">
                        <div class="upload-button" id="btn-releve">
                            <span style="font-size: 24px; color: white;">+</span>
                        </div>
                        <div class="upload-success-icon" id="success-releve" style="display: none;">
                            <span style="font-size: 32px; color: white;">‚úì</span>
                        </div>
                        <p class="upload-text" id="text-releve">Cliquez pour t√©l√©charger</p>
                        <p class="upload-hint">PDF, JPG, PNG - Max 3MB</p>
                        <input type="file" id="releve" name="releve" 
                               style="display: none;" 
                               accept="image/*,application/pdf" 
                               required
                               onchange="handleFileUpload(this, 'releve')"/>
                    </div>
                    <div class="doc-preview" id="preview-releve"></div>
                </div>
                <!-- Certificat de nationalit√© -->
                <div class="document-card">
                    <div class="doc-header">
                        <span class="doc-icon">üåç</span>
                        <div class="doc-info">
                            <strong class="doc-title">Certificat de nationalit√©</strong>
                           <span class="doc-badge required">Obligatoire</span>
                        </div>
                    </div>
                    <div class="doc-upload-zone" id="zone-certificatNationalite" onclick="document.getElementById('certificatNationalite').click()">
                        <div class="upload-button optional-btn" id="btn-certificatNationalite">
                            <span style="font-size: 24px; color: white;">+</span>
                        </div>
                        <div class="upload-success-icon" id="success-certificatNationalite" style="display: none;">
                            <span style="font-size: 32px; color: white;">‚úì</span>
                        </div>
                        <p class="upload-text" id="text-certificatNationalite">Cliquez pour t√©l√©charger</p>
                        <p class="upload-hint">PDF, JPG, PNG - Max 3MB</p>
                        <input type="file" id="certificatNationalite" name="certificatNationalite" 
                               style="display: none;" 
                               accept="image/*,application/pdf"
                               onchange="handleFileUpload(this, 'certificatNationalite')"/>
                    </div>
                    <div class="doc-preview" id="preview-certificatNationalite"></div>
                </div>
            </div>

            <!-- DOCUMENTS RECOMMAND√âS -->
            <div class="form-section" style="margin-top: 40px;">
                
                <!-- Relev√© de notes de Terminale -->
                <div class="document-card iut-special">
                    <div class="doc-header">
                        <span class="doc-icon">üìà</span>
                        <div class="doc-info">
                            <strong class="doc-title">Relev√© de notes de Terminale</strong>
                            <span class="doc-badge iut">Pour IUT</span>
                        </div>
                    </div>
                    <div class="doc-upload-zone" id="zone-releveTerminale" onclick="document.getElementById('releveTerminale').click()">
                        <div class="upload-button optional-btn" id="btn-releveTerminale">
                            <span style="font-size: 24px; color: white;">+</span>
                        </div>
                        <div class="upload-success-icon" id="success-releveTerminale" style="display: none;">
                            <span style="font-size: 32px; color: white;">‚úì</span>
                        </div>
                        <p class="upload-text" id="text-releveTerminale">Cliquez pour t√©l√©charger</p>
                        <p class="upload-hint">Recommand√© pour IUT - PDF, JPG, PNG - Max 3MB</p>
                        <input type="file" id="releveTerminale" name="releveTerminale" 
                               style="display: none;" 
                               accept="image/*,application/pdf"
                               onchange="handleFileUpload(this, 'releveTerminale')"/>
                    </div>
                    <div class="doc-preview" id="preview-releveTerminale"></div>
                </div>
            </div>

            <div class="button-group">
                <button type="button" class="btn btn-secondary" onclick="showPage('etape2')">Pr√©c√©dent</button>
                <button type="submit" class="btn btn-primary" style="flex: 1;">√âtape suivante</button>
            </div>
        </form>
    </div>
</div>

<style>
/* Ic√¥ne de succ√®s (coche verte) */
.upload-success-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #28a745, #20c997);
    margin: 0 auto 15px;
    display: none;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
}

.upload-success-icon.show {
    display: flex !important;
    animation: successPop 0.5s ease;
}

@keyframes successPop {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* Modifier la zone d'upload quand le fichier est valid√© */
.doc-upload-zone.has-file {
    border-color: #28a745 !important;
    background: #f0fff4 !important;
    border-style: solid !important;
}

.doc-upload-zone.has-file .upload-text {
    color: #28a745 !important;
    font-weight: 700 !important;
}

.doc-upload-zone.has-file .upload-hint {
    color: #20c997 !important;
}

/* Reste des styles existants... */
.consignes-box {
    background: linear-gradient(135deg, #fff3cd, #fffacd);
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 30px;
    border-left: 5px solid #ffc107;
    box-shadow: 0 2px 10px rgba(255, 193, 7, 0.2);
}

.consignes-box h5 {
    color: #856404;
    margin: 0 0 15px 0;
    font-weight: 600;
    font-size: 1.1em;
}

.consignes-box ul {
    color: #856404;
    margin: 0;
    padding-left: 25px;
}

.consignes-box li {
    margin-bottom: 8px;
}

.section-title-doc {
    font-size: 1.2em;
    font-weight: 600;
    margin-bottom: 25px;
    padding: 15px 20px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.section-title-doc.obligatoire {
    background: linear-gradient(135deg, #ffe6e6, #fff0f0);
    color: #dc3545;
    border-left: 5px solid #dc3545;
}

.section-title-doc.optionnel {
    background: linear-gradient(135deg, #e6f7ff, #f0f9ff);
    color: #17a2b8;
    border-left: 5px solid #17a2b8;
}

.document-card {
    background: white;
    border: 2px solid #e9ecef;
    border-radius: 15px;
    padding: 20px;
    margin-bottom: 20px;
    transition: all 0.3s ease;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.document-card:hover {
    border-color: #667eea;
    box-shadow: 0 5px 20px rgba(102, 126, 234, 0.15);
    transform: translateY(-2px);
}

.document-card.iut-special {
    background: linear-gradient(135deg, #f0f8ff, #e8f4ff);
    border-color: #17a2b8;
}

.doc-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.doc-icon {
    font-size: 2.5em;
    flex-shrink: 0;
}

.doc-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.doc-title {
    font-size: 1.05em;
    color: #333;
}

.doc-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 0.75em;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    width: fit-content;
}

.doc-badge.required {
    background: linear-gradient(135deg, #dc3545, #c82333);
    color: white;
}

.doc-badge.optional {
    background: linear-gradient(135deg, #17a2b8, #138496);
    color: white;
}

.doc-badge.iut {
    background: linear-gradient(135deg, #ffc107, #ff9800);
    color: #333;
}

.doc-upload-zone {
    border: 3px dashed #d0d0d0;
    border-radius: 12px;
    padding: 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    background: #fafafa;
}

.doc-upload-zone:hover {
    border-color: #667eea;
    background: #f0f2ff;
}

.upload-button {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #764ba2);
    margin: 0 auto 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    transition: all 0.3s ease;
}

.upload-button.optional-btn {
    background: linear-gradient(135deg, #17a2b8, #138496);
    box-shadow: 0 4px 15px rgba(23, 162, 184, 0.3);
}

.doc-upload-zone:hover .upload-button {
    transform: scale(1.15);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.upload-text {
    font-weight: 600;
    color: #333;
    margin: 10px 0 5px;
}

.upload-hint {
    font-size: 0.85em;
    color: #666;
    margin: 0;
}

.doc-preview {
    margin-top: 15px;
    display: none;
}

.doc-preview.active {
    display: block;
}
</style>



<!-- Processus de d√©p√¥t - √âtape 4 -->
<!-- Processus de d√©p√¥t - √âtape 4 - VERSION RESPONSIVE -->
<div id="etape4" class="page">
    <div class="step-indicator">
        <div class="step completed">
            <div class="step-number">1</div>
            <span>Informations personnelles</span>
        </div>
        <div class="step completed">
            <div class="step-number">2</div>
            <span>Choix de fili√®re</span>
        </div>
        <div class="step completed">
            <div class="step-number">3</div>
            <span>Documents</span>
        </div>
        <div class="step active">
            <div class="step-number">4</div>
            <span>R√©sum√©</span>
        </div>
    </div>

    <div class="form-container">
        <h2>√âtape 4 : R√©sum√© et validation</h2>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 15px; margin-bottom: 30px;">
            <h3 style="color: #667eea; margin-bottom: 20px;">R√©sum√© complet de votre dossier</h3>
            
            <!-- ‚úÖ GRID RESPONSIVE -->
            <div class="resume-grid">
                <!-- Informations personnelles -->
                <div class="resume-section">
                    <h4 style="color: #333; margin-bottom: 15px;">üìã Informations personnelles</h4>
                    <div class="resume-card">
                        <div class="resume-item">
                            <span class="resume-label">Nom complet</span>
                            <span class="resume-value" id="resumeNomPrenom">-</span>
                        </div>
                        <div class="resume-item">
                            <span class="resume-label">Date de naissance</span>
                            <span class="resume-value" id="resumeNaissance">-</span>
                        </div>
                        <div class="resume-item">
                            <span class="resume-label">Contact</span>
                            <span class="resume-value" id="resumeContact">-</span>
                        </div>
                        <div class="resume-item">
                            <span class="resume-label">Nationalit√©</span>
                            <span class="resume-value" id="resumeNationalite">-</span>
                        </div>
                        <div class="resume-item">
                            <span class="resume-label">Genre</span>
                            <span class="resume-value" id="resumeGenre">-</span>
                        </div>
                        <div class="resume-item">
                            <span class="resume-label">Adresse</span>
                            <span class="resume-value" id="resumeAdresse">-</span>
                        </div>
                    </div>
                </div>
                
                <!-- Informations baccalaur√©at -->
                <div class="resume-section">
                    <h4 style="color: #333; margin-bottom: 15px;">üéì Informations du baccalaur√©at</h4>
                    <div class="resume-card" id="resumeBac">
                        <!-- Sera rempli dynamiquement -->
                    </div>
                </div>
            </div>
            
            <!-- Choix de formation - FULL WIDTH -->
            <div class="resume-section" style="margin-top: 20px;">
                <h4 style="color: #333; margin-bottom: 15px;">üìö Choix de formation</h4>
                <div class="resume-card" id="resumeFormation">
                    <!-- Sera rempli dynamiquement -->
                </div>
            </div>
            
            <!-- Documents fournis - FULL WIDTH -->
            <div class="resume-section" style="margin-top: 20px;">
                <h4 style="color: #333; margin-bottom: 15px;">üìé Documents fournis</h4>
                <div id="listeDocuments" class="documents-grid">
                    <!-- Sera rempli dynamiquement -->
                </div>
            </div>
        </div>
        
        <div class="info-box">
            <strong>‚ö†Ô∏è V√©rification importante</strong>
            <p>Veuillez v√©rifier attentivement toutes les informations avant de valider votre dossier. Une fois valid√©, vous recevrez un quitus que vous pourrez t√©l√©charger.</p>
        </div>
        
        <form id="etape4Form" onsubmit="submitApplication(event)">
            <div class="checkbox-container">
                <input type="checkbox" id="confirmationDonnees" required>
                <label for="confirmationDonnees">
                    Je certifie que toutes les informations fournies sont exactes et compl√®tes
                </label>
            </div>
            
            <div class="button-group">
                <button type="button" class="btn btn-secondary" onclick="showPage('etape3')">Pr√©c√©dent</button>
                <button type="submit" class="btn btn-primary" style="flex: 1;">‚úÖ Valider mon dossier</button>
            </div>
        </form>
    </div>
</div>

<!-- PAGE DE CONFIRMATION - AFFICH√âE APR√àS SOUMISSION -->
<!-- Confirmation d'inscription - Affich√©e apr√®s soumission -->
<!-- Confirmation d'inscription - VERSION RESPONSIVE -->
<div id="confirmationInscription" class="page">
    <div class="confirmation-header">
        <div class="success-icon">‚úÖ</div>
        <h2 style="color: #28a745; border: none; padding: 0; margin: 10px 0;">Dossier soumis avec succ√®s!</h2>
        <p style="color: #666; font-size: 1.1em; margin: 10px 0;">Voici le r√©sum√© de votre pr√©inscription</p>
    </div>

    <!-- ‚úÖ GRID RESPONSIVE -->
    <div class="confirmation-grid">
        <!-- Colonne gauche: Informations -->
        <div class="confirmation-column">
            <!-- Informations de l'√©tudiant -->
            <div class="confirmation-card">
                <h3 class="card-title">üë§ Informations de l'√©tudiant</h3>
                
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Nom Complet</span>
                        <span class="info-value" id="confirmNomPrenom">-</span>
                    </div>
                    
                    <div class="info-item highlight">
                        <span class="info-label">Num√©ro de Dossier</span>
                        <span class="info-value numero-dossier" id="confirmNumeroDossier">-</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Email</span>
                        <span class="info-value" id="confirmEmail">-</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">T√©l√©phone</span>
                        <span class="info-value" id="confirmTelephone">-</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Date de Naissance</span>
                        <span class="info-value" id="confirmDateNaissance">-</span>
                    </div>
                </div>
            </div>

            <!-- Choix de Formation -->
            <div class="confirmation-card">
                <h3 class="card-title">üìö Choix de Formation</h3>
                
                <div class="choix-grid">
                    <div class="choix-item choix-1">
                        <span class="choix-badge">Priorit√© 1</span>
                        <span class="choix-label">Premier choix</span>
                        <span class="choix-value" id="confirmPremierChoix">-</span>
                    </div>
                    
                    <div class="choix-item choix-2">
                        <span class="choix-badge">Priorit√© 2</span>
                        <span class="choix-label">Deuxi√®me choix</span>
                        <span class="choix-value" id="confirmDeuxiemeChoix">-</span>
                    </div>
                    
                    <div class="choix-item choix-3">
                        <span class="choix-badge">Priorit√© 3</span>
                        <span class="choix-label">Troisi√®me choix</span>
                        <span class="choix-value" id="confirmTroisiemeChoix">-</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Colonne droite: Documents et Actions -->
        <div class="confirmation-column">
            <!-- Documents T√©l√©chargeables -->
            <div class="confirmation-card">
                <h3 class="card-title">üìé Documents T√©l√©chargeables</h3>
                
                <div id="confirmDocuments" class="documents-list">
                    <!-- Les documents seront g√©n√©r√©s dynamiquement -->
                </div>
            </div>

            <!-- Prochaines √âtapes -->
            <div class="next-steps-card">
                <h3 class="card-title">üéØ Prochaines √âtapes</h3>
                <ol class="steps-list">
                    <li><strong>T√©l√©chargez votre quitus</strong> de pr√©inscription dans votre dossier</li>
                    <li><strong>Imprimez</strong> votre quitus et vos documents</li>
                    <li><strong>D√©posez physiquement</strong> votre dossier au Service Central de la Scolarit√©</li>
                    <li><strong>Recevez confirmation</strong> de l'acceptation de votre dossier</li>
                </ol>
            </div>
        </div>
    </div>

    <!-- Boutons d'action - RESPONSIVE -->
    <div class="action-buttons-container">
        <button class="btn btn-primary btn-large" id="btnTelechargerQuitusConfirm">
            üìÑ T√©l√©charger mon Quitus
        </button>
        <button class="btn btn-secondary btn-large" onclick="navigateToUserPage('mesDossiers')">
            üìã Voir Mes Dossiers
        </button>
        <button class="btn btn-secondary btn-large" onclick="navigateToUserPage('dashboard')">
            üè† Retour √† l'Accueil
        </button>
    </div>
</div>



            <!-- Page Mes dossiers -->
                   <!-- Page Mes dossiers -->
           <!-- Page Mes dossiers - VERSION RESPONSIVE -->
<div id="mesDossiers" class="page">
    <h2 style="margin-bottom: 30px;">üìã Mes dossiers</h2>
    
    <!-- Option 1: Tableau avec scroll horizontal (par d√©faut) -->
    <div class="table-responsive scroll-indicator" id="tableContainer">
        <table class="table">
            <thead>
                <tr>
                    <th>Date de d√©p√¥t</th>
                    <th>Nom et Pr√©nom</th>
                    <th>Num√©ro dossier</th>
                    <th>Statut</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="tableauDossiers">
                <tr>
                    <td colspan="5" style="text-align: center; padding: 40px; color: #666;">
                        <div class="empty-state">
                            <div class="empty-state-icon">üìÇ</div>
                            <div class="empty-state-text">Aucun dossier d√©pos√© pour le moment</div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- Option 2: Version cartes pour mobile (affich√©e automatiquement en dessous de 768px) -->
    <div id="mobileCardsContainer" style="display: none;">
        <!-- Les cartes seront g√©n√©r√©es dynamiquement -->
    </div>
</div>

<script>

function toggleViewMode() {
    const tableContainer = document.getElementById('tableContainer');
    const cardsContainer = document.getElementById('mobileCardsContainer');
    const isMobile = window.innerWidth <= 768;
    
    if (isMobile && cardsContainer && cardsContainer.children.length > 0) {
        // Afficher les cartes sur mobile si elles existent
        tableContainer.style.display = 'none';
        cardsContainer.style.display = 'block';
    } else {
        // Afficher le tableau sur desktop
        tableContainer.style.display = 'block';
        cardsContainer.style.display = 'none';
    }
}

// √âcouter les changements de taille d'√©cran
window.addEventListener('resize', toggleViewMode);
window.addEventListener('load', toggleViewMode);
</script>


           <!-- Page de modification de dossier -->
            <!-- Modifier la page de modification de dossier -->
<!-- Page de modification de dossier - √Ä REMPLACER COMPL√àTEMENT dans user.html -->
<div id="modifierDossier" class="page">
    <h2 style="margin-bottom: 30px;">Modifier mon dossier</h2>
    
    <div style="background: #d1ecf1; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #17a2b8;">
        <strong>‚ÑπÔ∏è Information :</strong> Vous pouvez modifier votre dossier √† tout moment, quel que soit son statut actuel.
        <ul style="margin: 10px 0 0 20px; padding: 0;">
            <li>Si votre dossier est <strong>approuv√©</strong>, la modification le remettra en <strong>attente de validation</strong></li>
            <li>Si votre dossier est <strong>rejet√©</strong>, vous pouvez le corriger et le soumettre √† nouveau</li>
            <li>Si votre dossier est <strong>en attente</strong>, vous pouvez le modifier librement</li>
        </ul>
    </div>

    <form id="modificationDossierForm" onsubmit="soumettreModificationDossier(event)">
        <input type="hidden" id="modifDossierId">
        
        <!-- Informations personnelles -->
        <h3 style="color: #667eea; margin: 30px 0 20px;">Informations personnelles</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="modifNom">Nom *</label>
                <input type="text" id="modifNom" required>
            </div>
            <div class="form-group">
                <label for="modifPrenom">Pr√©nom *</label>
                <input type="text" id="modifPrenom" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="modifDateNaissance">Date de naissance *</label>
                <input type="date" id="modifDateNaissance" required>
            </div>
            <div class="form-group">
                <label for="modifLieuNaissance">Lieu de naissance *</label>
                <input type="text" id="modifLieuNaissance" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="modifNationalite">Nationalit√© *</label>
                <input type="text" id="modifNationalite" required>
            </div>
            <div class="form-group">
                <label for="modifGenre">Genre *</label>
                <select id="modifGenre" required>
                    <option value="">S√©lectionner...</option>
                    <option value="masculin">Masculin</option>
                    <option value="feminin">F√©minin</option>
                </select>
            </div>
        </div>
        
        <div class="form-group">
            <label for="modifAdresse">Adresse *</label>
            <textarea id="modifAdresse" rows="2" required></textarea>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="modifTelephone">T√©l√©phone *</label>
                <input type="tel" id="modifTelephone" required>
            </div>
            <div class="form-group">
                <label for="modifEmail">Email *</label>
                <input type="email" id="modifEmail" required>
            </div>
        </div>

        <!-- Informations bac -->
        <h3 style="color: #667eea; margin: 30px 0 20px;">Informations du baccalaur√©at</h3>
        <div class="form-row">
            <div class="form-group">
                <label for="modifTypeBac">Type de bac * <small style="font-weight: normal;">(Les fili√®res seront actualis√©es automatiquement)</small></label>
                <!-- Ce champ sera transform√© en select dynamiquement -->
                <input type="text" id="modifTypeBac" required placeholder="Chargement des types de bac...">
                <div class="form-hint">
                    <small>S√©lectionnez votre type de bac pour voir les fili√®res compatibles</small>
                </div>
            </div>
            <div class="form-group">
                <label for="modifLieuObtention">Lieu d'obtention *</label>
                <select id="modifLieuObtention" required>
                    <option value="">S√©lectionner...</option>
                    <option value="Dosso">Dosso</option>
                    <option value="Niamey">Niamey</option>
                    <option value="Tahoua">Tahoua</option>
                    <option value="Agadez">Agadez</option>
                    <option value="Maradi">Maradi</option>
                    <option value="Tillab√©ri">Tillab√©ri</option>
                    <option value="Zinder">Zinder</option>
                    <option value="Diffa">Diffa</option>
                </select>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="modifAnneeObtention">Ann√©e d'obtention *</label>
                <select id="modifAnneeObtention" required>
                    <option value="">S√©lectionner...</option>
                    <option value="2023-2024">2023-2024</option>
                    <option value="2024-2025">2024-2025</option>
                    <option value="2025-2026">2025-2026</option>
                </select>
            </div>
            <div class="form-group">
                <label for="modifMention">Mention *</label>
                <select id="modifMention" required>
                    <option value="">S√©lectionner...</option>
                    <option value="Passable">Passable</option>
                    <option value="Bien">Bien</option>
                    <option value="Tr√®s bien">Tr√®s bien</option>
                    <option value="Excellent">Excellent</option>
                </select>
            </div>
        </div>

        <!-- Choix de fili√®res -->
        <h3 style="color: #667eea; margin: 30px 0 20px;">Choix de fili√®res</h3>

        <!-- Rappel du type de bac s√©lectionn√© -->
        <div id="rappelTypeBacModif" style="background: #e8f4ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #667eea; display: none;">
            <h4 style="margin: 0 0 10px 0; color: #667eea;">Type de bac s√©lectionn√©</h4>
            <p id="typeBacSelectionneModif" style="margin: 0; font-weight: 600;">-</p>
            <small style="color: #666;">Les fili√®res ci-dessous sont compatibles avec votre type de bac</small>
        </div>

        <div class="form-group">
            <label for="modifPremierChoix">Premier choix * <span style="color: #28a745; font-weight: bold; font-size: 12px;">(Priorit√© 1)</span></label>
            <select id="modifPremierChoix" required>
                <option value="">Les fili√®res s'afficheront apr√®s la s√©lection du type de bac</option>
            </select>
            <div class="form-hint">
                <small>Votre choix principal - privil√©gi√© lors de l'affectation</small>
            </div>
        </div>

        <div class="form-group">
            <label for="modifDeuxiemeChoix">Deuxi√®me choix * <span style="color: #ffc107; font-weight: bold; font-size: 12px;">(Priorit√© 2)</span></label>
            <select id="modifDeuxiemeChoix" required>
                <option value="">S√©lectionner d'abord le premier choix</option>
            </select>
            <div class="form-hint">
                <small>Choix de secours en cas de non-acceptation du premier</small>
            </div>
        </div>

        <div class="form-group">
            <label for="modifTroisiemeChoix">Troisi√®me choix * <span style="color: #dc3545; font-weight: bold; font-size: 12px;">(Priorit√© 3)</span></label>
            <select id="modifTroisiemeChoix" required>
                <option value="">S√©lectionner d'abord les deux premiers choix</option>
            </select>
            <div class="form-hint">
                <small>Dernier choix de s√©curit√©</small>
            </div>
        </div>

        <!-- Aide contextuelle -->
        <div class="info-box" style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin: 20px 0;">
            <h5 style="margin: 0 0 10px 0; color: #856404;">Conseils pour vos choix</h5>
            <ul style="margin: 0; padding-left: 20px; color: #856404; font-size: 14px;">
                <li>Classez vos choix par ordre de pr√©f√©rence r√©elle</li>
                <li>V√©rifiez les capacit√©s d'accueil de chaque fili√®re</li>
                <li>Assurez-vous que les trois fili√®res sont diff√©rentes</li>
                <li>Les modifications du type de bac r√©initialiseront vos choix de fili√®res</li>
            </ul>
        </div>

        <!-- Documents -->
        <h3 style="color: #667eea; margin: 30px 0 20px;">Documents (optionnel - conserver les anciens ou remplacer)</h3>
        
        <div class="form-group">
            <label>Photo d'identit√©</label>
            <div id="modifPhotoActuelle" style="margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
            <input type="file" id="modifPhotoIdentite" accept="image/*">
            <small style="color: #666;">Laissez vide pour conserver le document actuel</small>
        </div>
        
        <div class="form-group">
            <label>Pi√®ce d'identit√©</label>
            <div id="modifPieceActuelle" style="margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
            <input type="file" id="modifPieceIdentite" accept="image/*,application/pdf">
            <small style="color: #666;">Laissez vide pour conserver le document actuel</small>
        </div>
        
        <div class="form-group">
            <label>Dipl√¥me de baccalaur√©at</label>
            <div id="modifDiplomeActuel" style="margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
            <input type="file" id="modifDiplomeBac" accept="image/*,application/pdf">
            <small style="color: #666;">Laissez vide pour conserver le document actuel</small>
        </div>
        
        <div class="form-group">
            <label>Relev√© de notes</label>
            <div id="modifReleveActuel" style="margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
            <input type="file" id="modifReleve" accept="image/*,application/pdf">
            <small style="color: #666;">Laissez vide pour conserver le document actuel</small>
        </div>
        
        <div class="form-group">
            <label>Certificat de nationalit√©</label>
            <div id="modifCertificatActuel" style="margin-bottom: 10px; padding: 10px; background: #f8f9fa; border-radius: 5px;"></div>
            <input type="file" id="modifCertificatNationalite" accept="image/*,application/pdf">
            <small style="color: #666;">Laissez vide pour conserver le document actuel</small>
        </div>

        <div style="display: flex; gap: 15px; margin-top: 30px;">
            <button type="button" class="btn btn-secondary" onclick="showPage('mesDossiers')">Annuler</button>
            <button type="submit" class="btn btn-primary" style="flex: 1;">Enregistrer les modifications</button>
        </div>
    </form>
</div>

<script>
// Script pour mettre √† jour le rappel du type de bac quand il change
document.addEventListener('DOMContentLoaded', function() {
    // Observer les changements du champ Type de bac
    const observer = new MutationObserver(function(mutations) {
        const typeBacField = document.getElementById('modifTypeBac');
        const rappelDiv = document.getElementById('rappelTypeBacModif');
        const typeBacSelectionne = document.getElementById('typeBacSelectionneModif');
        
        if (typeBacField && (typeBacField.tagName === 'SELECT')) {
            // Si le champ a √©t√© transform√© en SELECT
            typeBacField.addEventListener('change', function() {
                if (this.value) {
                    typeBacSelectionne.textContent = this.value;
                    rappelDiv.style.display = 'block';
                } else {
                    rappelDiv.style.display = 'none';
                }
            });
            
            // Afficher le rappel s'il y a d√©j√† une valeur
            if (typeBacField.value) {
                typeBacSelectionne.textContent = typeBacField.value;
                rappelDiv.style.display = 'block';
            }
        }
    });
    
    observer.observe(document.getElementById('modifierDossier'), {
        childList: true,
        subtree: true,
        attributes: true
    });
});
</script>
<style>
:root {
        --primary-color: #667eea;
        --secondary-color: #764ba2;
        --success-color: #28a745;
        --border-color: #e0e0e0;
        --light-bg: #f8f9ff;
    }

    /* ==================== PAGE ET CONTAINER ==================== */
    .page {
        animation: slideUp 0.5s ease-out;
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .form-container {
        background: white;
        border-radius: 15px;
        padding: 40px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    }

    /* ==================== INDICATEUR D'√âTAPES ==================== */
    .step-indicator {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
        position: relative;
    }

    .step-indicator::before {
        content: '';
        position: absolute;
        top: 22px;
        left: 5%;
        right: 5%;
        height: 2px;
        background: var(--border-color);
        z-index: 0;
    }

    .step {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1;
        position: relative;
        z-index: 1;
    }

    .step-number {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        background: white;
        border: 3px solid var(--border-color);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: #999;
        margin-bottom: 10px;
        transition: all 0.3s ease;
    }

    .step.active .step-number {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        border-color: var(--primary-color);
        color: white;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .step.completed .step-number {
        background: var(--success-color);
        border-color: var(--success-color);
        color: white;
    }

    .step > span {
        font-size: 0.9em;
        color: #666;
        text-align: center;
        font-weight: 500;
    }

    .step.active > span {
        color: var(--primary-color);
        font-weight: 600;
    }

    /* ==================== TITRES ==================== */
    h2 {
        color: #333;
        font-size: 1.8em;
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 3px solid var(--primary-color);
        position: relative;
        padding-left: 15px;
    }

    h2::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 5px;
        height: 30px;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        border-radius: 3px;
    }

    /* ==================== SECTIONS ==================== */
    .form-section {
        margin-bottom: 30px;
        padding-bottom: 30px;
        border-bottom: 1px solid var(--border-color);
    }

    .form-section:last-of-type {
        border-bottom: none;
    }

    .section-title {
        color: #555;
        font-size: 1.1em;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-weight: 600;
        padding-left: 12px;
        border-left: 4px solid var(--primary-color);
    }

    /* ==================== FORMULAIRE ==================== */
    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 20px;
    }

    .form-row.full {
        grid-template-columns: 1fr;
    }

    .form-group {
        display: flex;
        flex-direction: column;
    }

    label {
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
        font-size: 0.95em;
    }

    .required {
        color: #dc3545;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="date"],
    select,
    textarea {
        padding: 12px 15px;
        border: 2px solid var(--border-color);
        border-radius: 8px;
        font-size: 0.95em;
        font-family: inherit;
        transition: all 0.3s ease;
        background: white;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="tel"]:focus,
    input[type="date"]:focus,
    select:focus,
    textarea:focus {
        outline: none;
        border-color: var(--primary-color);
        background: var(--light-bg);
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }

    textarea {
        resize: vertical;
        min-height: 80px;
    }

    /* ==================== INDICES ==================== */
    .form-hint {
        font-size: 0.85em;
        color: var(--primary-color);
        margin-top: 5px;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    /* ==================== BO√éTE INFO ==================== */
    .info-box {
        background: linear-gradient(135deg, #e8f4ff, #f0f8ff);
        border-left: 4px solid var(--primary-color);
        border-radius: 8px;
        padding: 20px;
        margin: 30px 0;
    }

    .info-box strong {
        color: var(--primary-color);
    }

    .info-box p {
        margin: 10px 0 0 0;
        color: #555;
        line-height: 1.6;
    }

    .info-box ul {
        margin: 0;
        padding-left: 20px;
    }

    /* ==================== UPLOAD DE FICHIERS ==================== */
    .file-upload {
        border: 2px dashed var(--primary-color);
        border-radius: 8px;
        padding: 30px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: var(--light-bg);
    }

    .file-upload:hover {
        background: #f0f2ff;
        border-color: var(--secondary-color);
        transform: translateY(-2px);
    }

    .file-upload-icon {
        font-size: 2.5em;
        margin-bottom: 10px;
    }

    .file-upload p {
        margin: 5px 0;
        color: #333;
        font-weight: 500;
    }

    .file-upload p:last-child {
        font-size: 0.85em;
        color: #999;
    }

    .file-preview {
        margin-top: 10px;
        padding: 10px;
        background: #f0f0f0;
        border-radius: 5px;
        font-size: 0.9em;
        color: #666;
    }

    /* ==================== BOUTONS ==================== */
    .button-group {
        display: flex;
        gap: 15px;
        margin-top: 40px;
        justify-content: flex-end;
    }

    .btn {
        padding: 12px 30px;
        border: none;
        border-radius: 8px;
        font-size: 1em;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
    }

    .btn-primary {
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }

    .btn-primary:active {
        transform: translateY(0);
    }

    .btn-secondary {
        background: #f0f0f0;
        color: #333;
        border: 2px solid var(--border-color);
    }

    .btn-secondary:hover {
        background: #e8e8e8;
        border-color: #d0d0d0;
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 768px) {
        .form-container {
            padding: 25px;
        }

        .form-row {
            grid-template-columns: 1fr;
        }

        .form-row.full {
            grid-template-columns: 1fr;
        }

        .step-indicator {
            flex-wrap: wrap;
            gap: 15px;
        }

        .step-indicator::before {
            display: none;
        }

        h2 {
            font-size: 1.5em;
        }

        .section-title {
            font-size: 1em;
        }

        .button-group {
            flex-direction: column;
        }

        .btn {
            width: 100%;
        }
    }
/* Styles pour les bandeaux d'information */
.info-bandeau {
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

</style>

            <!-- Page Profil -->
            <div id="profil" class="page">
                <h2 style="margin-bottom: 30px;">Mon profil</h2>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                    <div>
                        <h3 style="margin-bottom: 20px; color: #667eea;">Informations personnelles</h3>
                        <form id="profilForm" onsubmit="updateProfile(event)">
                            <div class="form-group">
                                <label for="profilNom">Nom complet</label>
                                <input type="text" id="profilNom" required>
                            </div>
                            <div class="form-group">
                                <label for="profilEmail">Email</label>
                                <input type="email" id="profilEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="profilTelephone">T√©l√©phone</label>
                                <input type="tel" id="profilTelephone" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Mettre √† jour</button>
                        </form>
                    </div>
                    
                    <div>
                        <h3 style="margin-bottom: 20px; color: #667eea;">Changer le mot de passe</h3>
                        <form id="motDePasseForm" onsubmit="changePassword(event)">
                            <div class="form-group">
                                <label for="ancienMotDePasse">Ancien mot de passe</label>
                                <input type="password" id="ancienMotDePasse" required>
                            </div>
                            <div class="form-group">
                                <label for="nouveauMotDePasse">Nouveau mot de passe</label>
                                <input type="password" id="nouveauMotDePasse" required>
                            </div>
                            <div class="form-group">
                                <label for="confirmNouveauMotDePasse">Confirmer le nouveau mot de passe</label>
                                <input type="password" id="confirmNouveauMotDePasse" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Changer le mot de passe</button>
                        </form>
                    </div>
                </div>
            </div>
